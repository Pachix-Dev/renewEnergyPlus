---
import i18next, { t } from 'i18next'
const lang = i18next.language
const base = lang === 'es' ? '' : `/${lang}`

// Videos data
const videos = [
  {
    id: 'pICiVIp4JFg',
    title: lang === 'es' ? 'Testimonios de Expositores' : 'Exhibitor Testimonials',
    category: lang === 'es' ? 'Experiencia' : 'Experience',
    color: 'from-[#BC0100] to-[#D76901]'
  },
  {
    id: 'zFTOIpLv6AQ',
    title: lang === 'es' ? 'Conexiones de Negocio' : 'Business Connections',
    category: 'Networking',
    color: 'from-[#565078] to-[#766EA6]'
  },
  {
    id: '1b4QbWJtJZE',
    title: lang === 'es' ? 'Tecnologías Emergentes' : 'Emerging Technologies',
    category: lang === 'es' ? 'Innovación' : 'Innovation',
    color: 'from-[#D76901] to-[#BC0100]'
  },
  {
    id: 'Fg8NEkxuuLo',
    title: lang === 'es' ? 'Conocimiento Especializado' : 'Specialized Knowledge',
    category: lang === 'es' ? 'Conferencias' : 'Conferences',
    color: 'from-[#565078] to-[#BC0100]'
  },
  {
    id: 'BdzZD0hSbuM',
    title: lang === 'es' ? 'Desarrollo de Proyectos' : 'Project Development',
    category: lang === 'es' ? 'Oportunidades' : 'Opportunities',
    color: 'from-[#D76901] to-[#565078]'
  },
  {
    id: 'dB_U57WRpb4',
    title: lang === 'es' ? 'Experiencias Exitosas' : 'Successful Experiences',
    category: lang === 'es' ? 'Testimonios' : 'Testimonials',
    color: 'from-[#BC0100] to-[#565078]'
  }
]
---

<section
  class='relative py-20 bg-gradient-to-br from-gray-50 via-white to-gray-100 overflow-hidden'
>
  <!-- Elementos decorativos de fondo -->
  <div class='inset-0 overflow-hidden'>
    <div
      class='absolute top-20 -right-32 w-64 h-64 bg-gradient-to-br from-[#565078]/5 to-[#BC0100]/5 rounded-full blur-3xl'
    >
    </div>
    <div
      class='absolute -bottom-20 -left-32 w-80 h-80 bg-gradient-to-tr from-[#D76901]/5 to-[#565078]/5 rounded-full blur-3xl'
    >
    </div>
  </div>

  <div class='container mx-auto px-4 relative z-10'>
    <!-- Header mejorado -->
    <div class='text-center mb-16' data-aos='fade-up' data-aos-duration='1000'>
      <h2 class='text-2xl lg:text-4xl font-bold text-[#565078] mb-6'>
        {t('home.title-testimonials')}
      </h2>
      <div
        class='w-32 h-1 bg-gradient-to-r from-[#BC0100] to-[#D76901] mx-auto rounded-full'
      >
      </div>
      <p class='text-xl text-gray-600 mt-6 max-w-3xl mx-auto leading-relaxed'>
        {t('home.discover_experience')}
      </p>
    </div>

    <!-- Flowbite Carousel Container -->
    <div
      class='max-w-7xl mx-auto'
      data-aos='fade-up'
      data-aos-duration='1000'
      data-aos-delay='200'
    >
      <div id='videos-carousel' class='relative w-full' data-carousel='static'>
        <!-- Carousel wrapper -->
        <div class='relative overflow-hidden rounded-3xl h-96 md:h-[700px] 2xl:h-[800px]'>
          {videos.map((video, index) => (
            <div
              class='hidden duration-700 ease-in-out'
              data-carousel-item={index === 0 ? 'active' : ''}
            >
              <div class='max-w-4xl mx-auto'>
                <div class='group relative bg-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 overflow-hidden border border-gray-100 '>
                  <!-- Video Container -->
                  <div class='relative aspect-video'>
                    <lite-youtube
                      videoid={video.id}
                      posterquality='maxresdefault'
                      params='controls=1&enablejsapi=1'
                      class='rounded-t-3xl w-full h-full object-cover'
                    ></lite-youtube>
                    
                  </div>
                  
                  <!-- Content -->
                  <div class='p-8'>
                    <div class='flex items-center gap-4 mb-4'>
                      <div class={`w-4 h-4 bg-gradient-to-r ${video.color} rounded-full`}></div>
                      <span class='text-sm text-gray-500 uppercase tracking-wider font-bold'>
                        {video.category}
                      </span>
                      <div class='flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent'></div>
                    </div>
                    <h3 class='text-2xl font-bold text-gray-800 leading-tight mb-4'>
                      {video.title}
                    </h3>
                    <div class='flex items-center justify-between'>
                      <span class='text-sm text-gray-500'>
                        {lang === 'es' ? 'Video testimonial' : 'Testimonial video'}
                      </span>
                      <div class='flex items-center gap-2'>
                        <span class='text-xs text-gray-400'>
                          {index + 1} / {videos.length}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- Slider indicators -->
        <div class='absolute z-30 flex -translate-x-1/2 space-x-3 rtl:space-x-reverse bottom-5 left-1/2'>
          {videos.map((video, index) => (
            <button
              type='button'
              class='w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all duration-300 hover:scale-125'
              aria-current={index === 0 ? 'true' : 'false'}
              aria-label={`Slide ${index + 1}`}
              data-carousel-slide-to={index}
            />
          ))}
        </div>

        <!-- Slider controls -->
        <button
          type='button'
          class='absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none'
          data-carousel-prev
        >
          <span class='inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/80 hover:bg-white shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-110'>
            <svg
              class='w-5 h-5 text-gray-600 group-hover:text-[#565078] transition-colors duration-300 rtl:rotate-180'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 6 10'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='M5 1 1 5l4 4'></path>
            </svg>
            <span class='sr-only'>Previous</span>
          </span>
        </button>

        <button
          type='button'
          class='absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none'
          data-carousel-next
        >
          <span class='inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/80 hover:bg-white shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-110'>
            <svg
              class='w-5 h-5 text-gray-600 group-hover:text-[#565078] transition-colors duration-300 rtl:rotate-180'
              aria-hidden='true'
              xmlns='http://www.w3.org/2000/svg'
              fill='none'
              viewBox='0 0 6 10'
            >
              <path
                stroke='currentColor'
                stroke-linecap='round'
                stroke-linejoin='round'
                stroke-width='2'
                d='m1 9 4-4-4-4'></path>
            </svg>
            <span class='sr-only'>Next</span>
          </span>
        </button>
      </div>
    </div>

    <!-- CTA Section -->
    <div
      class='text-center mt-10'
      data-aos='fade-up'
      data-aos-duration='1000'
      data-aos-delay='800'
    >
      <p class='text-xl text-gray-600 mb-8'>
        {t('home.readyfor')}
      </p>
      <div class='flex flex-col sm:flex-row gap-4 justify-center'>
        <a href={`${base}/registro`} class='button uppercase'>
          <span>{t('home.free_register')}</span>
          <svg
            class='icon'
            fill='none'
            stroke='currentColor'
            viewBox='0 0 24 24'
          >
            <path
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
          </svg>
        </a>
        <a href={`${base}/quiero-ser-expositor`} class='button uppercase'>
          {t('menu.submenu_2.option_2')}
          <svg
            xmlns='http://www.w3.org/2000/svg'
            class='h-5 w-5'
            fill='none'
            viewBox='0 0 24 24'
            stroke='currentColor'
          >
            <path
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              d='M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m0 0h4M9 7h6m-6 4h6m-6 4h6m-6 4h6'
            ></path>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  .button {
    position: relative;
    transition: all 0.3s ease-in-out;
    box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
    padding: 1rem 2rem;
    background: #4e549f;
    border-radius: 50px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: white;
    gap: 12px;
    font-weight: 600;
    border: 2px solid transparent;
    outline: none;
    overflow: hidden;
    font-size: 16px;
    text-decoration: none;
  }

  .icon {
    width: 20px;
    height: 20px;
    transition: all 0.3s ease-in-out;
  }

  .button:hover {
    transform: translateY(-2px);
    box-shadow: 0px 15px 25px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .button:hover .icon {
    transform: translateX(4px);
  }

  .button:hover::before {
    animation: shine 1.5s ease-out infinite;
  }

  .button::before {
    content: '';
    position: absolute;
    width: 100px;
    height: 100%;
    background-image: linear-gradient(
      120deg,
      rgba(255, 255, 255, 0) 30%,
      rgba(255, 255, 255, 0.4),
      rgba(255, 255, 255, 0) 70%
    );
    top: 0;
    left: -100px;
    opacity: 0.6;
  }

  @keyframes shine {
    0% {
      left: -100px;
    }
    60% {
      left: 100%;
    }
    to {
      left: 100%;
    }
  }

  /* Custom carousel styles */
  [data-carousel-item] {
    min-height: 400px;
  }

  /* Video aspect ratio */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }
</style>

<script>
  import '@justinribeiro/lite-youtube'
</script>